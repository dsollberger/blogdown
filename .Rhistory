axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
Q <- states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region"))
View(Q)
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = fill_color) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
?scale_fill_manual
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("red" = "red", "yellow" = "yellow", "orange" = "orange", "green" = "green", "gray50" = "gray50")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
# load shape files
states_shp <- st_read("cb_2018_us_state_5m/cb_2018_us_state_5m.shp")
# load data file
# https://oag.ca.gov/ab1887
# https://www.guttmacher.org/article/2022/06/13-states-have-abortion-trigger-bans-heres-what-happens-when-roe-overturned
trigger_bans <- readxl::read_xlsx("trigger_bans.xlsx") |>
mutate(fill_color = case_when(
AB1887ban & trigger_ban ~ "both",
AB1887ban & !trigger_ban ~ "travel funding prohibition",
!AB1887ban & trigger_ban ~ "abortion trigger ban",
Region == "California" ~ "California",
TRUE ~ "gray50"
))
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("both" = "red",
"travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"California" = "green",
"gray50" = "gray50")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("both" = "red",
"travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"California" = "green",
"gray50" = "gray50")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red"
"California" = "green",
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green",
"gray50" = "gray50")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 20)) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "30 Day Map Challenge, Day 26: Choropleth",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "#999247", hjust = 0.5, size = 15),
) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "States with an abortion trigger ban (or likely soon)",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = "State Populations in Favor of Same-Sex Marriage",
subtitle = "States with an abortion trigger ban (or likely soon)",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = "States with an abortion trigger ban (or likely soon)",
caption = "Data Source: Public Religion Research Institute (2017)",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(color = "#8C4799", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rectangle(color = "black"),
panel.grid.minor = element_blank(),
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(color = "black"),
panel.grid.minor = element_blank(),
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "black"),
panel.grid.minor = element_blank(),
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "black")
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "black"),
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "black"),
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "black"),
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
states_shp |>
left_join(trigger_bans, by = c("NAME" = "Region")) |>
ggplot() +
geom_sf(aes(fill = fill_color)) +
scale_fill_manual(values = c("travel funding prohibition" = "yellow",
"abortion trigger ban" = "orange",
"both" = "red",
"California" = "green")) +
xlim(-125, -65) +
ylim(25, 50) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "black"),
plot.title = element_text(color = "yellow", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "orange", hjust = 0.5, size = 15),
plot.caption = element_text(color = "white", hjust = 1.0, size = 10),
) +
labs(title = stringr::str_wrap("CA AB 1887: Prohibition on state-funded travel to states with discriminatory laws"),
subtitle = stringr::str_wrap("States with an abortion trigger ban (or likely soon)"),
caption = "Map created on June 26, 2022",
x = "", y = "")
setwd("~/GitHub/blogdown")
blogdown:::new_post_addin()
blogdown:::preview_site()
blogdown::stop_server()
blogdown::serve_site()
