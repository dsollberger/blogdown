<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>TidyTuesday 20220607</title>
<meta name="author" content="Derek Sollberger" />




<meta name="keywords" content="devcows, hugo, go, ggplot">


<meta name="description" content="Site template made by Devcows using Hugo">

<meta name="generator" content="Hugo 0.92.2" />


<link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>


<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.11.2/css/all.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link href="/css/animate.css" rel="stylesheet">



  <link href="/css/style.derek.css" rel="stylesheet" id="theme-stylesheet">



<link href="/css/custom.css?1659993098" rel="stylesheet">



  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->



<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />


<link href="/css/owl.carousel.css" rel="stylesheet">
<link href="/css/owl.theme.css" rel="stylesheet">


<link rel="alternate" href="https://dsollberger2022.netlify.app/index.xml" type="application/rss+xml" title="The Median Data Scientist">







<meta property="og:updated_time" content="2022-06-07T00:00:00Z">

  
  
  <meta property="article:section" content="TidyTuesday">
  <meta property="article:tag" content="ggplot">
  
  
  <meta property="article:published_time" content="2022-06-07T00:00:00Z">
  <meta property="article:modified_time" content="2022-06-07T00:00:00Z">



<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@DerekSollberger">
<meta name="twitter:title" content="TidyTuesday 20220607">

<meta name="twitter:description" content="Site template made by Devcows using Hugo">


    
  </head>

  <body>

    <div id="all">

        
<header>
  <div id="top">
    <div class="container">
      <div class="row">
        <div class="col-xs-5">
          <p class="hidden-sm hidden-xs">The Median Data Scientist</p>
        </div>
        <div class="col-xs-7">
          <div class="social">
            
            <a href="https://github.com/dsollberger" target="_blank" style="opacity: 1;"><i class='fab fa-2x fa-github'></i></a>
            
            <a href="https://twitter.com/DerekSollberger" target="_blank" style="opacity: 1;"><i class='fab fa-2x fa-twitter'></i></a>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</header>



        <header class="navbar-affixed-top" data-spy="affix" data-offset-top="62">
    <div class="navbar navbar-default yamm " role="navigation" id="navbar">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="/">
                    
                      <img src="/img/logo.png" alt="TidyTuesday 20220607 logo" class="hidden-xs hidden-sm" />
                      <img src="/img/logo-small.png" alt="TidyTuesday 20220607 logo" class="visible-xs visible-sm" />
                    
                    <span class="sr-only">TidyTuesday 20220607 - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fas fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  

                  
                  
                  

                  

                  
                    
                  

                  

                  
                  <li class="dropdown active">
                    <a href="/blog/">Blog</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/contact/">Contact</a>
                  </li>
                  
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
                    </div>
                </form>
            </div>
            
        </div>
    </div>
</header>




        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>TidyTuesday 20220607</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        
                          <p class="text-muted text-uppercase mb-small text-right">
                            
                             | 
                            
                              
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                              June 7, 2022
                            
                          </p>
                        

                        <div id="post-content">
                          


<p>“The data this week comes from Data For Progress.</p>
<p>“Each year, hundreds of corporations around the country participate in Pride, an annual celebration of the LGBTQ+ community’s history and progress. They present themselves as LGBTQ+ allies, but new research from Data for Progress finds that in between their yearly parade appearances, dozens of these corporations are giving to state politicians behind some of the most bigoted and harmful policies in over a decade.</p>
<p>“Activists and allies wishing to hold these politicians accountable for bigotry can begin by holding their corporate backers accountable. In a new project series, Data for Progress has compiled a set of resources for activists, employees, community leaders, and lawmakers to push back on these policies and the prejudice powering them. We provide research tying the political giving of specific Fortune 500 companies to anti-LGBTQ+ politicians in six states, polling showing that such giving hurts the brands’ favorability, and upcoming policy memos to understand the issue and to take action.”</p>
<pre class="r"><code>df &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-06-07/fortune_aggregates.csv&#39;,
                      name_repair = janitor::make_clean_names) |&gt;
  filter(company != &quot;Grand Total&quot;) |&gt;
  arrange(desc(number_of_politicians_contributed_to))</code></pre>
<pre><code>## Rows: 117 Columns: 4
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (1): company
## dbl (3): total_contributed, number_of_politicians_contributed_to, number_of_...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code># colors via https://twitter.com/dataandme/status/1531946768270860288
pride &lt;- c(&#39;#E50000&#39;,&#39;#FF8D00&#39;,&#39;#FFEE00&#39;,&#39;#028121&#39;,&#39;#004CFF&#39;,&#39;#760088&#39;,&#39;#000000&#39;,&#39;#613915&#39;,&#39;#73D7EE&#39;,&#39;#FFAFC7&#39;,&#39;#FFFFFF&#39;
)
# label text colors
label_text_colors &lt;- c(rep(&quot;black&quot;, 3),
                       rep(&quot;white&quot;, 5),
                       rep(&quot;black&quot;, 3))
label_text_colors &lt;- rep(&quot;black&quot;, 11)</code></pre>
<pre class="r"><code>df2 &lt;- df |&gt;
  rename(amt_politicians = number_of_politicians_contributed_to) |&gt;
  select(company, amt_politicians) |&gt;
  top_n(length(pride)) |&gt;
  
  # sort company names by the number of politicians supported
  mutate(company_ranked = forcats::fct_reorder(company, amt_politicians))</code></pre>
<pre><code>## Selecting by amt_politicians</code></pre>
<pre class="r"><code># rename longer company names for brevity
df2$company[df2$company == &quot;Publix Super Markets&quot;] &lt;- &quot;Publix&quot;
df2$company[df2$company == &quot;Charter Communications&quot;] &lt;- &quot;Charter Comm&quot;
df2$company[df2$company == &quot;Norfolk Southern&quot;] &lt;- &quot;Norfolk S.&quot;</code></pre>
<pre class="r"><code>my_plot &lt;- df2 |&gt;
  # put together company names and number of politicians
  mutate(for_label = paste0(company, &quot;: &quot;, amt_politicians)) |&gt;
    
  # make plot
  ggplot() +
  geom_bar(aes(x = company_ranked, 
               y = -1.0*amt_politicians,
               fill = company_ranked),
           color = &quot;black&quot;, #to emphasize the white hue,
           stat = &quot;identity&quot;) +
  # scale_fill_manual(values = rev(pride)) +
  scale_y_continuous(position = &quot;right&quot;) +
  geom_text(aes(x = company_ranked, y = -1.0*amt_politicians,
                label = for_label),
            angle = -90,
            color = rev(label_text_colors),
            hjust = 1.05) +
  labs(title = &quot;Anti-LGBT Political Contributions&quot;,
       subtitle = &quot;Companies who have donated\nto anti-LGBT politicians&quot;,
       caption = &quot;Source: Data for Progress, TidyTuesday&quot;,
       x = &quot;&quot;,
       y = &quot;Number of politicians supported&quot;,) +
  theme(axis.text = element_blank(),
        axis.ticks = element_blank(),
        axis.title.y = element_text(size = 15, color = &quot;red&quot;),
        legend.position = &quot;none&quot;,
        panel.background = element_blank(),
        plot.title = element_text(color = &quot;red&quot;,
                                  size = 25, 
                                  hjust = 0.1, vjust = -50),
        plot.subtitle = element_text(color = &quot;black&quot;,
                                  size = 20, 
                                  hjust = 0.2, vjust = -70),
        plot.caption = element_text(color = &quot;#760088&quot;,
                                  size = 15, 
                                  hjust = 0.25, vjust = 25))</code></pre>
<pre class="r"><code>print(my_plot)</code></pre>
<p><img src="https://dsollberger2022.netlify.app/blog/2022/06/07/2022-06-07-tidytuesday-20220607/index.en_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>

                        </div>
                        
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://dsollberger2022.netlify.app/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            
            <li>
                <a href="/categories/data-mining">DATA-MINING (1)</a>
            </li>
            
            <li>
                <a href="/categories/data-visualization">DATA-VISUALIZATION (6)</a>
            </li>
            
            <li>
                <a href="/categories/math">MATH (2)</a>
            </li>
            
            <li>
                <a href="/categories/politics">POLITICS (1)</a>
            </li>
            
            <li>
                <a href="/categories/publishing">PUBLISHING (2)</a>
            </li>
            
            <li>
                <a href="/categories/r-markdown">R-MARKDOWN (2)</a>
            </li>
            
            <li>
                <a href="/categories/tidytuesday">TIDYTUESDAY (2)</a>
            </li>
            
            <li>
                <a href="/categories/web-development">WEB-DEVELOPMENT (1)</a>
            </li>
            
            <li>
                <a href="/categories/workflow">WORKFLOW (1)</a>
            </li>
            
        </ul>
    </div>

</div>








<div class="panel sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            
            <li >
                <a href="/tags/blastula"><i class="fas fa-tags"></i> blastula</a>
            </li>
            
            <li >
                <a href="/tags/bookdown"><i class="fas fa-tags"></i> bookdown</a>
            </li>
            
            <li >
                <a href="/tags/diagrammer"><i class="fas fa-tags"></i> diagrammer</a>
            </li>
            
            <li >
                <a href="/tags/geospatial"><i class="fas fa-tags"></i> geospatial</a>
            </li>
            
            <li >
                <a href="/tags/ggplot"><i class="fas fa-tags"></i> ggplot</a>
            </li>
            
            <li >
                <a href="/tags/hugo"><i class="fas fa-tags"></i> hugo</a>
            </li>
            
            <li >
                <a href="/tags/latex"><i class="fas fa-tags"></i> latex</a>
            </li>
            
            <li >
                <a href="/tags/plotly"><i class="fas fa-tags"></i> plotly</a>
            </li>
            
            <li >
                <a href="/tags/tabulizer"><i class="fas fa-tags"></i> tabulizer</a>
            </li>
            
            <li >
                <a href="/tags/tidyverse"><i class="fas fa-tags"></i> tidyverse</a>
            </li>
            
        </ul>
    </div>

</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>About us</h4>

            <p>Derek is a person who can somewhat customize a Hugo theme.</p>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

            
            <h4>Recent posts</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://dsollberger2022.netlify.app/blog/2022/08/08/2022-08-08-deck-of-cards/">
                          
                            <img src="/img/placeholder.png" class="img-responsive" alt="Deck of Cards">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://dsollberger2022.netlify.app/blog/2022/08/08/2022-08-08-deck-of-cards/">Deck of Cards</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://dsollberger2022.netlify.app/blog/2022/07/17/2022-07-17-return-to-mermaid-diagrams/">
                          
                            <img src="/img/placeholder.png" class="img-responsive" alt="Return to Mermaid Diagrams">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://dsollberger2022.netlify.app/blog/2022/07/17/2022-07-17-return-to-mermaid-diagrams/">Return to Mermaid Diagrams</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://dsollberger2022.netlify.app/blog/2022/07/17/2022-07-17-stardew-valley-expanded/">
                          
                            <img src="/img/Stardew_Valley_Expanded.png" class="img-responsive" alt="Stardew Valley Expanded">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://dsollberger2022.netlify.app/blog/2022/07/17/2022-07-17-stardew-valley-expanded/">Stardew Valley Expanded</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
            

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <p class="text-uppercase"><strong>Derek Sollberger</strong>
	    <br>UCM SNS Applied Mathematics Dept
        <br>5200 North Lake Rd
        <br>Merced, CA 95343
        <strong>United States</strong>
      </p>
      

            <a href="/contact" class="btn btn-small btn-template-main">Go to contact page</a>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2022, Derek Sollberger; GNU Public License.</p>
            
            <p class="pull-right">
              Template by <a href="https://bootstrapious.com/p/universal-business-e-commerce-template">Bootstrapious</a>.
              

              Ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>.
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>


<script src="/js/front.js"></script>


<script src="/js/owl.carousel.min.js"></script>



  </body>
</html>
